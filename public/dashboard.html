<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Live Dashboard â€” SFO Meeting Suite</title>
  
  <link rel="icon" href="/assets/favicon.ico">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="css/styles.css">

  <script defer src="js/data.js"></script>
  <script defer src="js/app.js"></script>
</head>

<body class="app">
  <div id="toastContainer"></div>

  <!-- ================= SIDEBAR ================= -->
  <aside class="sidebar">
    <div class="sidebar-header">
      <img src="assets/logo.png" alt="SFO Logo">
      <h3>SFO Suite</h3>
      <p class="sub-text">Enterprise Portal</p>
    </div>

    <nav>
      <button onclick="location.href='home.html'">
        <i class="fa-solid fa-house"></i>
        <span>Dashboard</span>
      </button>
      <button onclick="location.href='booking.html'">
        <i class="fa-solid fa-calendar-plus"></i>
        <span>Book Slot</span>
      </button>
      <button class="active" onclick="location.href='dashboard.html'">
        <i class="fa-solid fa-chart-line"></i>
        <span>Live Status</span>
      </button>
      <button onclick="location.href='track.html'">
        <i class="fa-solid fa-magnifying-glass"></i>
        <span>Track Booking</span>
      </button>
      <button class="admin-only" onclick="location.href='admin.html'">
        <i class="fa-solid fa-check-to-slot"></i>
        <span>Approvals</span>
      </button>
      <button class="admin-only" onclick="location.href='admin-users.html'">
        <i class="fa-solid fa-users-gear"></i>
        <span>Manage Users</span>
      </button>
      <button class="admin-only" onclick="location.href='admin-history.html'">
        <i class="fa-solid fa-folder-open"></i>
        <span>Booking History</span>
      </button>
      <button class="danger" onclick="logout()">
        <i class="fa-solid fa-right-from-bracket"></i>
        <span>Logout</span>
      </button>
    </nav>
  </aside>

  <!-- ================= MAIN CONTENT ================= -->
  <main class="main-layout">
    
    <div class="hero-card">
      <div class="hero-left">
        <h2 class="hero-title">Live Utilization</h2>
        <p class="hero-desc">Real-time overview of meeting room occupancy across all divisions.</p>
      </div>
      <div class="hero-glow"></div>
    </div>

    <div class="tile-grid mb-lg">
      <div class="card mb-0 text-center p-lg">
        <h4 class="stat-card-title">Total Environments</h4>
        <h2 id="statRooms" class="stat-card-value stat-primary">0</h2>
      </div>
      <div class="card mb-0 text-center p-lg">
        <h4 class="stat-card-title">Active Bookings</h4>
        <h2 id="statBooked" class="stat-card-value stat-accent">0</h2>
      </div>
      <div class="card mb-0 text-center p-lg">
        <h4 class="stat-card-title">Available Now</h4>
        <h2 id="statFree" class="stat-card-value stat-success">0</h2>
      </div>
    </div>

    <div class="card">
      <div class="dash-header-flex">
        <h3><i class="fa-solid fa-list-check"></i> Current Schedule</h3>
        <div class="w-200">
          <select id="dashFilter" onchange="refreshDashboard()" aria-label="Filter by Division" title="Filter by Division">
            <option value="ALL">All Divisions</option>
          </select>
        </div>
      </div>

      <div id="dashboardList" class="admin-list">
        <!-- Injected by app.js -->
        <div class="loading">Fetching live data...</div>
      </div>
    </div>

  </main>

</body>
</html>
