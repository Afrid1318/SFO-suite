<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="SFO Meeting Suite – Admin Control Panel">

  <link rel="icon" href="assets/favicon.ico?v=1" />
  <title>SFO — Admin Control Panel</title>

  <!-- Global Styles -->
  <link rel="stylesheet" href="css/styles.css" />

  <!-- Core Scripts -->
  <script defer src="js/data.js"></script>
  <script defer src="js/app.js"></script>
  <script defer src="js/admin.js"></script>

  <!-- PDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script defer src="js/pdf.js"></script>
</head>

<body class="app">

<div id="toastContainer"></div>

<!-- ===============================
     TOP BAR
================================ -->
<header class="topbar">
  <div class="top-left">
    <button class="icon-btn" onclick="toggleSidebar()" aria-label="Toggle sidebar">
      <i class="fa-solid fa-bars"></i>
    </button>
  </div>

  <div class="top-right">
    <button class="icon-btn" onclick="toggleTheme()" aria-label="Toggle theme">
      <i class="fa-solid fa-moon"></i>
    </button>
  </div>
</header>

<!-- ===============================
     SIDEBAR
================================ -->
<aside class="sidebar" aria-label="Admin Navigation">

  <div class="sidebar-header">
    <img src="assets/logo.png" alt="SFO Technologies Logo" />
    <h3>Admin Control</h3>
    <span class="role-badge admin">ADMIN</span>
    <p class="sub-text">Booking Management Console</p>
  </div>

  <nav class="sidebar-nav">

    <button onclick="location.href='home.html'">
      <i class="fa-solid fa-house"></i>
      <span>Home</span>
    </button>

    <button onclick="location.href='dashboard.html'">
      <i class="fa-solid fa-chart-line"></i>
      <span>Room Dashboard</span>
    </button>

    <button onclick="location.href='booking.html'">
      <i class="fa-solid fa-calendar-plus"></i>
      <span>New Booking</span>
    </button>

    <button onclick="location.href='track.html'">
      <i class="fa-solid fa-magnifying-glass"></i>
      <span>Track Status</span>
    </button>

    <button class="active" onclick="location.href='admin.html'">
      <i class="fa-solid fa-check-to-slot"></i>
      <span>Approvals</span>
    </button>

    <button class="admin-only" onclick="location.href='admin-users.html'">
      <i class="fa-solid fa-users-gear"></i>
      <span>Manage Users</span>
    </button>

    <button onclick="location.href='admin-history.html'">
      <i class="fa-solid fa-folder-open"></i>
      <span>Booking History</span>
    </button>

    <button onclick="location.href='admin-analytics.html'">
      <i class="fa-solid fa-chart-pie"></i>
      <span>Analytics</span>
    </button>

    <button onclick="location.href='admin-complaints.html'">
      <i class="fa-solid fa-exclamation-triangle"></i>
      <span>Complaints</span>
    </button>

    <hr class="sidebar-divider" />

    <button class="danger" onclick="logout()">
      <i class="fa-solid fa-right-from-bracket"></i>
      <span>Logout</span>
    </button>

  </nav>
</aside>

<!-- ===============================
     MAIN CONTENT
================================ -->
<main class="main-layout">

  <!-- HERO -->
  <section class="hero-card" aria-labelledby="admin-title">

    <div class="hero-left">
      <h2 id="admin-title" class="hero-title">Admin Control Panel</h2>
      <p class="hero-desc">
        Review, approve, reject bookings and export confirmation reports
      </p>

      <div class="hero-actions">
        <button class="hero-btn" onclick="loadAdminBookings()">
          <i class="fa-solid fa-rotate"></i>
          Refresh Requests
        </button>
      </div>
    </div>

    <div class="hero-glow"></div>

  </section>

  <!-- STATS TILES -->
  <div class="tile-grid mb-lg">
    <div class="card mb-0 text-center p-lg filter-card" onclick="filterByStatus('PENDING')">
      <h4 class="stat-card-title">Pending</h4>
      <h2 id="statPending" class="stat-card-value stat-primary">0</h2>
    </div>
    <div class="card mb-0 text-center p-lg filter-card" onclick="filterByStatus('APPROVED')">
      <h4 class="stat-card-title">Approved</h4>
      <h2 id="statApproved" class="stat-card-value stat-accent">0</h2>
    </div>
    <div class="card mb-0 text-center p-lg filter-card" onclick="filterByStatus('REJECTED')">
      <h4 class="stat-card-title">Rejected</h4>
      <h2 id="statRejected" class="stat-card-value stat-success">0</h2>
    </div>
  </div>

  <!-- BOOKINGS PANEL -->
  <section class="card action-panel" aria-labelledby="booking-panel-title">

    <header class="panel-header">
      <h3 id="booking-panel-title">Booking Requests</h3>
      <p class="sub-text">Approve, reject, delete, preview PDF or email bookings</p>
      <div class="search-bar">
        <input type="text" id="searchInput" placeholder="Search by room, team, user, email..." oninput="applyFilters()">
      </div>
    </header>

    <!-- ADMIN BOOKINGS -->
    <div id="adminList" class="admin-list" aria-live="polite">
      <div class="loading">Loading requests...</div>
    </div>

  </section>

</main>

</body>
</html>
